[{"/home/kagorora/Documents/dms-f/src/store/types/types.js":"1","/home/kagorora/Documents/dms-f/src/store/reducers/userReducers.js":"2","/home/kagorora/Documents/dms-f/src/store.js":"3","/home/kagorora/Documents/dms-f/src/store/actions/usersActions.js":"4","/home/kagorora/Documents/dms-f/src/components/reusable/Header/Header.js":"5","/home/kagorora/Documents/dms-f/src/App.js":"6","/home/kagorora/Documents/dms-f/src/components/register/Register.js":"7","/home/kagorora/Documents/dms-f/src/components/paymentMethod/PaymentMethod.js":"8","/home/kagorora/Documents/dms-f/src/components/profile/Profile.js":"9","/home/kagorora/Documents/dms-f/src/components/reusable/FormContainer.js":"10","/home/kagorora/Documents/dms-f/src/components/reusable/Product/Product.js":"11","/home/kagorora/Documents/dms-f/src/store/actions/orderActions.js":"12","/home/kagorora/Documents/dms-f/src/components/admin/Users.js":"13","/home/kagorora/Documents/dms-f/src/store/reducers/productReducers.js":"14","/home/kagorora/Documents/dms-f/src/components/placeOrder/PlaceOrder.js":"15","/home/kagorora/Documents/dms-f/src/components/shipping/Shipping.js":"16","/home/kagorora/Documents/dms-f/src/components/reusable/Message.js":"17","/home/kagorora/Documents/dms-f/src/components/reusable/CheckoutSteps/CheckoutSteps.js":"18","/home/kagorora/Documents/dms-f/src/store/actions/cartsActions.js":"19","/home/kagorora/Documents/dms-f/src/components/reusable/Rating/Rating.js":"20","/home/kagorora/Documents/dms-f/src/components/cart/Cart.js":"21","/home/kagorora/Documents/dms-f/src/components/reusable/Footer/Footer.js":"22","/home/kagorora/Documents/dms-f/src/components/myOrders/MyOrders.js":"23","/home/kagorora/Documents/dms-f/src/components/admin/EditUser.js":"24","/home/kagorora/Documents/dms-f/src/index.js":"25","/home/kagorora/Documents/dms-f/src/store/reducers/orderReducers.js":"26","/home/kagorora/Documents/dms-f/src/components/login/Login.js":"27","/home/kagorora/Documents/dms-f/src/components/order/Order.js":"28","/home/kagorora/Documents/dms-f/src/store/reducers/cartReducers.js":"29","/home/kagorora/Documents/dms-f/src/components/buyer/Buyer.js":"30","/home/kagorora/Documents/dms-f/src/components/productDetails/ProductDetails.js":"31","/home/kagorora/Documents/dms-f/src/store/actions/productsActions.js":"32","/home/kagorora/Documents/dms-f/src/components/admin/Products.js":"33"},{"size":3434,"mtime":1613054262645,"results":"34","hashOfConfig":"35"},{"size":3491,"mtime":1612976807743,"results":"36","hashOfConfig":"35"},{"size":2201,"mtime":1613054444995,"results":"37","hashOfConfig":"35"},{"size":6238,"mtime":1613050742193,"results":"38","hashOfConfig":"35"},{"size":3004,"mtime":1613051109276,"results":"39","hashOfConfig":"35"},{"size":2080,"mtime":1613051206145,"results":"40","hashOfConfig":"35"},{"size":4847,"mtime":1612243518508,"results":"41","hashOfConfig":"35"},{"size":1792,"mtime":1612738478893,"results":"42","hashOfConfig":"35"},{"size":4959,"mtime":1612275251103,"results":"43","hashOfConfig":"35"},{"size":336,"mtime":1612243518508,"results":"44","hashOfConfig":"35"},{"size":913,"mtime":1612243518508,"results":"45","hashOfConfig":"35"},{"size":3168,"mtime":1612838980033,"results":"46","hashOfConfig":"35"},{"size":3352,"mtime":1613051244621,"results":"47","hashOfConfig":"35"},{"size":1461,"mtime":1613054404261,"results":"48","hashOfConfig":"35"},{"size":5161,"mtime":1612987280515,"results":"49","hashOfConfig":"35"},{"size":3031,"mtime":1612738478917,"results":"50","hashOfConfig":"35"},{"size":244,"mtime":1612194906661,"results":"51","hashOfConfig":"35"},{"size":1263,"mtime":1612738478917,"results":"52","hashOfConfig":"35"},{"size":1238,"mtime":1612738478917,"results":"53","hashOfConfig":"35"},{"size":1541,"mtime":1612243518508,"results":"54","hashOfConfig":"35"},{"size":3542,"mtime":1612246650411,"results":"55","hashOfConfig":"35"},{"size":310,"mtime":1612243518508,"results":"56","hashOfConfig":"35"},{"size":2833,"mtime":1612838980033,"results":"57","hashOfConfig":"35"},{"size":4333,"mtime":1613050742177,"results":"58","hashOfConfig":"35"},{"size":319,"mtime":1612197568095,"results":"59","hashOfConfig":"35"},{"size":2257,"mtime":1612838980033,"results":"60","hashOfConfig":"35"},{"size":2235,"mtime":1612246403732,"results":"61","hashOfConfig":"35"},{"size":6629,"mtime":1612986735177,"results":"62","hashOfConfig":"35"},{"size":1303,"mtime":1612838980033,"results":"63","hashOfConfig":"35"},{"size":1001,"mtime":1612245195426,"results":"64","hashOfConfig":"35"},{"size":3897,"mtime":1612246014554,"results":"65","hashOfConfig":"35"},{"size":1913,"mtime":1613054610864,"results":"66","hashOfConfig":"35"},{"size":3602,"mtime":1613054818360,"results":"67","hashOfConfig":"35"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1d7x57r",{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"80","messages":"81","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"82"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"85","messages":"86","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"87","messages":"88","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"89"},{"filePath":"90","messages":"91","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"82"},{"filePath":"92","messages":"93","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"94","messages":"95","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"96","messages":"97","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"98","messages":"99","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"100","messages":"101","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"89"},{"filePath":"102","messages":"103","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"104"},{"filePath":"105","messages":"106","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"89"},{"filePath":"107","messages":"108","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"109"},{"filePath":"110","messages":"111","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"112","messages":"113","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"109"},{"filePath":"114","messages":"115","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"116"},{"filePath":"117","messages":"118","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"89"},{"filePath":"119","messages":"120","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"121","messages":"122","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"82"},{"filePath":"123","messages":"124","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"82"},{"filePath":"125","messages":"126","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"89"},{"filePath":"127","messages":"128","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"129"},{"filePath":"130","messages":"131","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"109"},{"filePath":"132","messages":"133","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"89"},{"filePath":"134","messages":"135","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"104"},{"filePath":"136","messages":"137","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"138","messages":"139","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/home/kagorora/Documents/dms-f/src/store/types/types.js",[],"/home/kagorora/Documents/dms-f/src/store/reducers/userReducers.js",[],"/home/kagorora/Documents/dms-f/src/store.js",[],"/home/kagorora/Documents/dms-f/src/store/actions/usersActions.js",[],"/home/kagorora/Documents/dms-f/src/components/reusable/Header/Header.js",[],"/home/kagorora/Documents/dms-f/src/App.js",[],"/home/kagorora/Documents/dms-f/src/components/register/Register.js",[],["140","141"],"/home/kagorora/Documents/dms-f/src/components/paymentMethod/PaymentMethod.js",[],"/home/kagorora/Documents/dms-f/src/components/profile/Profile.js",["142","143"],"/home/kagorora/Documents/dms-f/src/components/reusable/FormContainer.js",[],["144","145"],"/home/kagorora/Documents/dms-f/src/components/reusable/Product/Product.js",[],"/home/kagorora/Documents/dms-f/src/store/actions/orderActions.js",[],"/home/kagorora/Documents/dms-f/src/components/admin/Users.js",[],"/home/kagorora/Documents/dms-f/src/store/reducers/productReducers.js",[],"/home/kagorora/Documents/dms-f/src/components/placeOrder/PlaceOrder.js",["146"],"/home/kagorora/Documents/dms-f/src/components/shipping/Shipping.js",[],"/home/kagorora/Documents/dms-f/src/components/reusable/Message.js",[],["147","148"],"/home/kagorora/Documents/dms-f/src/components/reusable/CheckoutSteps/CheckoutSteps.js",[],"/home/kagorora/Documents/dms-f/src/store/actions/cartsActions.js",[],["149","150"],"/home/kagorora/Documents/dms-f/src/components/reusable/Rating/Rating.js",[],"/home/kagorora/Documents/dms-f/src/components/cart/Cart.js",[],"/home/kagorora/Documents/dms-f/src/components/reusable/Footer/Footer.js",[],["151","152"],"/home/kagorora/Documents/dms-f/src/components/myOrders/MyOrders.js",[],"/home/kagorora/Documents/dms-f/src/components/admin/EditUser.js",["153"],"/home/kagorora/Documents/dms-f/src/index.js",[],"/home/kagorora/Documents/dms-f/src/store/reducers/orderReducers.js",[],"/home/kagorora/Documents/dms-f/src/components/login/Login.js",[],"/home/kagorora/Documents/dms-f/src/components/order/Order.js",["154"],"import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { PayPalButton } from \"react-paypal-button-v2\";\nimport { Button, Col, Row, ListGroup, Image, Card } from \"react-bootstrap\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport Message from \"../reusable/Message.js\";\nimport { getOrderDetails, payOrder } from \"../../store/actions/orderActions.js\";\nimport Loader from \"../reusable/Loader.js\";\nimport { ORDER_PAY_RESET } from \"../../store/types/types\";\n\nconst Order = ({ match }) => {\n  const orderId = match.params.id;\n\n  const [sdkReady, setSdkReady] = useState(false);\n\n  const dispatch = useDispatch();\n\n  const orderDetails = useSelector((state) => state.orderDetails);\n  const { order, loading, error } = orderDetails;\n\n  const orderPay = useSelector((state) => state.orderPay);\n  const { success: successPay, loading: loadingPay } = orderPay;\n\n  if (!loading) {\n    // Calculate prices\n    const addDecimals = (num) => {\n      return (Math.round(num * 100) / 100).toFixed(2);\n    };\n\n    order.itemsPrice = addDecimals(\n      order.orderItems.reduce((acc, item) => acc + item.price * item.qty, 0)\n    );\n  }\n\n  useEffect(() => {\n    const addPayPalScript = async () => {\n      const { data: clientId } = await axios.get(\"/api/config/paypal\");\n      const script = document.createElement(\"script\");\n      script.type = \"text/javascript\";\n      script.src = `https://www.paypal.com/sdk/js?client-id=${clientId}`;\n      script.async = true;\n      script.onload = () => {\n        setSdkReady(true);\n      };\n      document.body.appendChild(script);\n    };\n\n    if (!order || successPay) {\n      dispatch({ type: ORDER_PAY_RESET });\n      dispatch(getOrderDetails(orderId));\n    } else if (!order.isPaid) {\n      if (!window.paypal) {\n        addPayPalScript();\n      } else {\n        setSdkReady(true);\n      }\n    }\n  }, [dispatch, orderId, successPay, order]);\n\n  const successPaymentHandler = (paymentResult) => {\n    dispatch(payOrder(orderId, paymentResult));\n  };\n\n  return loading ? (\n    <Loader />\n  ) : error ? (\n    <Message variant='danger'>{error}</Message>\n  ) : (\n    <>\n      <h1 className='mt-4'>Order: {order._id}</h1>\n      <>\n        <Row>\n          <Col md={8}>\n            <ListGroup variant='flush'>\n              <ListGroup.Item>\n                <h2>Destination</h2>\n                <p>\n                  <strong>Name: </strong>\n                  {order.user.name}\n                </p>\n                <p>\n                  <strong>Email: </strong>\n                  <a href={`mailto:${order.user.email}`}>{order.user.email}</a>\n                </p>\n                <p>\n                  <strong>Address: </strong>\n                  {order.orderAddress.Province}, {order.orderAddress.District},{\" \"}\n                  {order.orderAddress.Sector}, {order.orderAddress.cell},{\" \"}\n                  {order.orderAddress.city}, {order.orderAddress.streetNumber}\n                </p>\n              </ListGroup.Item>\n\n              {!order.isDelivered ? (\n                <Message variant='danger'>Not Delivered</Message>\n              ) : (\n                <Message variant='success'>Delivered</Message>\n              )}\n\n              <ListGroup.Item>\n                <h2>Payment Method</h2>\n                <p>\n                  <strong>Method: </strong>\n                  {order.paymentMethod}\n                </p>\n              </ListGroup.Item>\n\n              {!order.isPaid ? (\n                <Message variant='danger'>Not Paid</Message>\n              ) : (\n                <Message variant='success'>Paid on {order.paidAt}</Message>\n              )}\n\n              <ListGroup.Item>\n                <h2>Order Items</h2>\n                {order.orderItems.length === 0 ? (\n                  <Message>Order is Empty</Message>\n                ) : (\n                  <ListGroup variant='flush'>\n                    {order.orderItems.map((item, index) => (\n                      <ListGroup.Item key={index}>\n                        <Row>\n                          <Col md={1}>\n                            <Image\n                              src={item.image}\n                              alt={item.name}\n                              fluid\n                              rounded\n                            />\n                          </Col>\n                          <Col>\n                            <Link to={`/product/${item.product}`}>\n                              {item.name}\n                            </Link>\n                          </Col>\n                          <Col md={4}>\n                            {item.qty} * {item.price} = FRW\n                            {item.qty * item.price}\n                          </Col>\n                        </Row>\n                      </ListGroup.Item>\n                    ))}\n                  </ListGroup>\n                )}\n              </ListGroup.Item>\n            </ListGroup>\n          </Col>\n\n          <Col md={4} className='justify-content-center ml-0.5 mt-5'>\n            <Card>\n              <ListGroup variant='flush'>\n                <ListGroup.Item>\n                  <h2>Order Summary</h2>\n                </ListGroup.Item>\n                <ListGroup.Item>\n                  <Row>\n                    <Col>Items</Col>\n                    <Col>FRW {order.itemsPrice}</Col>\n                  </Row>\n                </ListGroup.Item>\n                <ListGroup.Item>\n                  <Row>\n                    <Col>Transport</Col>\n                    <Col>FRW {order.deliveryPrice}</Col>\n                  </Row>\n                </ListGroup.Item>\n                <ListGroup.Item>\n                  <Row>\n                    <Col>Tax</Col>\n                    <Col>FRW {order.taxPrice}</Col>\n                  </Row>\n                </ListGroup.Item>\n                <ListGroup.Item>\n                  <Row>\n                    <Col>Total Amount</Col>\n                    <Col>FRW {order.totalPrice}</Col>\n                  </Row>\n                </ListGroup.Item>\n                {!order.isPaid && (\n                  <ListGroup.Item>\n                    {loadingPay && <Loader />}\n                    {!sdkReady ? (\n                      <Loader />\n                    ) : (\n                      <PayPalButton\n                        amount={order.totalPrice}\n                        onSuccess={successPaymentHandler}\n                      />\n                    )}\n                  </ListGroup.Item>\n                )}\n              </ListGroup>\n            </Card>\n          </Col>\n        </Row>\n      </>\n    </>\n  );\n};\n\nexport default Order;\n","/home/kagorora/Documents/dms-f/src/store/reducers/cartReducers.js",[],"/home/kagorora/Documents/dms-f/src/components/buyer/Buyer.js",[],"/home/kagorora/Documents/dms-f/src/components/productDetails/ProductDetails.js",[],"/home/kagorora/Documents/dms-f/src/store/actions/productsActions.js",[],"/home/kagorora/Documents/dms-f/src/components/admin/Products.js",[],{"ruleId":"155","replacedBy":"156"},{"ruleId":"157","replacedBy":"158"},{"ruleId":"159","severity":1,"message":"160","line":12,"column":9,"nodeType":"161","endLine":12,"endColumn":37},{"ruleId":"162","severity":1,"message":"163","line":22,"column":10,"nodeType":"164","messageId":"165","endLine":22,"endColumn":17},{"ruleId":"155","replacedBy":"166"},{"ruleId":"157","replacedBy":"167"},{"ruleId":"159","severity":1,"message":"168","line":48,"column":6,"nodeType":"169","endLine":48,"endColumn":24,"suggestions":"170"},{"ruleId":"155","replacedBy":"171"},{"ruleId":"157","replacedBy":"172"},{"ruleId":"155","replacedBy":"173"},{"ruleId":"157","replacedBy":"174"},{"ruleId":"155","replacedBy":"175"},{"ruleId":"157","replacedBy":"176"},{"ruleId":"159","severity":1,"message":"177","line":16,"column":9,"nodeType":"161","endLine":16,"endColumn":37},{"ruleId":"162","severity":1,"message":"178","line":4,"column":10,"nodeType":"164","messageId":"165","endLine":4,"endColumn":16},"no-native-reassign",["179"],"no-negated-in-lhs",["180"],"react-hooks/exhaustive-deps","The 'dispatch' object construction makes the dependencies of useEffect Hook (at line 49) change on every render. To fix this, wrap the initialization of 'dispatch' in its own useMemo() Hook.","VariableDeclarator","no-unused-vars","'message' is assigned a value but never used.","Identifier","unusedVar",["179"],["180"],"React Hook useEffect has a missing dependency: 'order._id'. Either include it or remove the dependency array.","ArrayExpression",["181"],["179"],["180"],["179"],["180"],["179"],["180"],"The 'dispatch' object construction makes the dependencies of useEffect Hook (at line 45) change on every render. To fix this, wrap the initialization of 'dispatch' in its own useMemo() Hook.","'Button' is defined but never used.","no-global-assign","no-unsafe-negation",{"desc":"182","fix":"183"},"Update the dependencies array to be: [history, order._id, success]",{"range":"184","text":"185"},[1360,1378],"[history, order._id, success]"]